---
// src/layouts/Layout.astro

import '../styles/global.css';
import '../styles/tailwind.css';

// ðŸ›‘ ESTO ES LO QUE ARREGLA el error "currentPath is not defined" ðŸ›‘
const currentPath = Astro.url.pathname;
const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>{title}</title>
</head>
<body class="flex min-h-screen bg-[#f0f2f5]">

Â  {/* 1. SIDEBAR: Ancho Fijo y Alto Completo (Usando Flexbox para que no haya conflicto) */}
Â  <div class="w-[250px] bg-[#2e594d] text-white flex flex-col p-6 sticky top-0 h-screen shadow-md flex-shrink-0">
Â  Â Â 
Â  Â  {/* Contenido del logo y tÃ­tulo */}
Â  Â  <div class="flex items-center gap-4 mb-8 px-4">
Â  Â  Â  Â  <img src="/Logo.png" alt="Logo CBTA 71" class="h-10 w-10" />
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <h1 class="text-xl font-bold">CBTA 71</h1>
Â  Â  Â  Â  Â  <p class="text-sm">Sistema de pagos</p>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â Â 
Â  Â  {/* Contenido de la NavegaciÃ³n (nav) */}
Â  Â  <nav class="flex-grow">
Â  Â  Â  Â  <ul class="space-y-2">
Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  <aÂ 
Â  Â  Â  Â  Â  Â  Â  href="/"
Â  Â  Â  Â  Â  Â  Â  class:list={[
Â  Â  Â  Â  Â  Â  Â  Â  'flex items-center gap-4 py-3 px-4 rounded-lg transition-colors duration-200',
Â  Â  Â  Â  Â  Â  Â  Â  { 'bg-white text-[#2e594d] font-bold shadow-sm': currentPath === '/' },
Â  Â  Â  Â  Â  Â  Â  Â  { 'text-white hover:bg-[#3b7666]': currentPath !== '/' },
Â  Â  Â  Â  Â  Â  Â  ]}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-dashboard" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M4 4h8v4h-8z"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M4 12h8v8h-8z"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M16 4h4v8h-4z"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M16 16h4v4h-4z"></path>
Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  Â  Dashboard
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  <aÂ 
Â  Â  Â  Â  Â  Â  Â  href="/concepts"
Â  Â  Â  Â  Â  Â  Â  class:list={[
Â  Â  Â  Â  Â  Â  Â  Â  'flex items-center gap-4 py-3 px-4 rounded-lg transition-colors duration-200',
Â  Â  Â  Â  Â  Â  Â  Â  { 'bg-white text-[#2e594d] font-bold shadow-sm': currentPath === '/concepts' },
Â  Â  Â  Â  Â  Â  Â  Â  { 'text-white hover:bg-[#3b7666]': currentPath !== '/concepts' },
Â  Â  Â  Â  Â  Â  Â  ]}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M3 6v13"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M12 6v13"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M21 6v13"></path>
Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  Â  Conceptos
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  <aÂ 
Â  Â  Â  Â  Â  Â  Â  href="/students"
Â  Â  Â  Â  Â  Â  Â  class:list={[
Â  Â  Â  Â  Â  Â  Â  Â  'flex items-center gap-4 py-3 px-4 rounded-lg transition-colors duration-200',
Â  Â  Â  Â  Â  Â  Â  Â  { 'bg-white text-[#2e594d] font-bold shadow-sm': currentPath === '/students' },
Â  Â  Â  Â  Â  Â  Â  Â  { 'text-white hover:bg-[#3b7666]': currentPath !== '/students' },
Â  Â  Â  Â  Â  Â  Â  ]}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-users" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M16 3.161a3 3 0 1 0 3.839 3.839"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M16 14v-1a4 4 0 0 1 4 -4h1"></path>
Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  Â  Estudiantes
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  <aÂ 
Â  Â  Â  Â  Â  Â  Â  href="/payments"
Â  Â  Â  Â  Â  Â  Â  class:list={[
Â  Â  Â  Â  Â  Â  Â  Â  'flex items-center gap-4 py-3 px-4 rounded-lg transition-colors duration-200',
Â  Â  Â  Â  Â  Â  Â  Â  { 'bg-white text-[#2e594d] font-bold shadow-sm': currentPath === '/payments' },
Â  Â  Â  Â  Â  Â  Â  Â  { 'text-white hover:bg-[#3b7666]': currentPath !== '/payments' },
Â  Â  Â  Â  Â  Â  Â  ]}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-wallet" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 0 0 4h12a1 1 0 0 0 1 -1v-3"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M20 12v4h-4a2 2 0 0 1 0 -4h4"></path>
Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  Â  Pagos
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  </ul>
Â  Â  Â  </nav>
Â  Â Â 
Â  Â  {/* Contenido del botÃ³n Salir */}
Â  Â  Â  <div class="mt-auto pt-4">
Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  <aÂ 
Â  Â  Â  Â  Â  Â  Â  href="/logout"
Â  Â  Â  Â  Â  Â  Â  class="flex items-center gap-4 py-3 px-4 rounded-lg text-white hover:bg-[#3b7666] transition-colors duration-200"
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-logout" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"></path>
Â  Â  Â  Â  Â  Â  Â  Â  <path d="M7 12h14l-3 -3m0 6l3 -3"></path>
Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  Â  Salir
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  </ul>
Â  Â  Â  </div>
Â  Â Â 
Â  </div>

Â  {/* 2. MAIN CONTENT: Ahora ocupa todo el espacio restante */}
Â  <main class="flex-1 p-8 overflow-auto">Â 
Â  Â  <slot />
Â  </main>

</body>
</html>