{
    "openapi": "3.0.0",
    "info": {
        "title": "School Management API",
        "description": "Documentación de la API para el sistema de gestión escolar",
        "contact": {
            "name": "Equipo de desarrollo CBTa71",
            "email": "soporte@cbta71.edu.mx"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:9000/api",
            "description": "Servidor local"
        },
        {
            "url": "https://nginx-production-728f.up.railway.app/api",
            "description": "Servidor de producción"
        }
    ],
    "paths": {
        "/api/v1/admin-actions/register": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Registrar un nuevo usuario",
                "description": "Crea un nuevo usuario en el sistema con los datos proporcionados.",
                "operationId": "adminRegisterUser",
                "requestBody": {
                    "description": "Datos necesarios para el registro del usuario. Nota: La contraseña no debe ser incluida en la request, se genera para cada usuario desde el sistema",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Usuario creado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario ha sido creado con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "El campo email es obligatorio."
                                                ],
                                                "password": [
                                                    "El campo password debe tener al menos 6 caracteres."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado en el servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/admin-actions/promotion": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Incrementa el semestre de los alumnos y da de baja a quienes sobrepasan",
                "description": "Se hace un incremento en el semestre de todos los alumnos sin importar status y da de baja a quienes sobrepasan el semestre 12.",
                "operationId": "promotionStudents",
                "responses": {
                    "200": {
                        "description": "Usuarios promovidos con exito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "affected": {
                                                    "properties": {
                                                        "usuarios_promovidos": {
                                                            "type": "integer",
                                                            "example": 27
                                                        },
                                                        "usuarios_baja": {
                                                            "type": "integer",
                                                            "example": 5
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario ha sido creado con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "No se puede promover alumnos en este mes."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado en el servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/admin-actions/attach-student": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Asociar detalles de estudiante a un usuario existente",
                "description": "Permite asignar información académica (carrera, semestre, grupo, taller) a un usuario ya registrado.",
                "operationId": "attachStudentDetailToUser",
                "requestBody": {
                    "description": "Datos necesarios para asociar un detalle de estudiante al usuario.",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AttachStudentRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario asociado correctamente a un detalle de estudiante.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se asociarón correctamente los datos al estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        },
                                        "errors": {
                                            "properties": {
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo user_id es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para realizar esta acción."
                    },
                    "404": {
                        "description": "Usuario o recurso no encontrado."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/get-student/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Obtener detalles de estudiante a un usuario existente",
                "description": "Permite obtener información académica (carrera, grupo, taller) a un usuario ya registrado.",
                "operationId": "getStudentDetailToUser",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID del estudiante del que se quieren los detalles.",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalles de estudiante encontrados correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainStudentDetail"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para realizar esta acción."
                    },
                    "404": {
                        "description": "Usuario o recurso no encontrado."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/update-student/{id}": {
            "patch": {
                "tags": [
                    "Admin"
                ],
                "summary": "Actualizar detalles de estudiante a un usuario existente",
                "description": "Permite actualizar información académica (carrera, grupo, taller) a un usuario ya registrado.",
                "operationId": "updateStudentDetailToUser",
                "requestBody": {
                    "description": "Datos necesarios para actualizar un detalle de estudiante al usuario.",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateStudentRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario actualizado correctamente con detalle de estudiante.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se actualizaron correctamente los detalles de estudiante."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        },
                                        "errors": {
                                            "properties": {
                                                "user_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El campo career_id es obligatorio."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No autorizado para realizar esta acción."
                    },
                    "404": {
                        "description": "Usuario o recurso no encontrado."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/import": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Importar usuarios desde un archivo Excel",
                "description": "Permite subir un archivo Excel (.xlsx) con los datos de los usuarios y sus detalles estudiantiles.\r\n *     El archivo debe contener las columnas en el siguiente orden:\r\n *     1. name (Nombre)\r\n *     2. last_name (Apellidos)\r\n *     3. email (Correo electrónico)\r\n *     4. password (Contraseña, si se deja vacío se asignará 'default123')\r\n *     5. phone_number (Teléfono)\r\n *     6. birthdate (Fecha de nacimiento, formato YYYY-MM-DD)\r\n *     7. gender (Género)\r\n *     8. curp (CURP)\r\n *     9. street (Calle)\r\n *     10. city (Ciudad)\r\n *     11. state (Estado)\r\n *     12. zip_code (Código postal)\r\n *     13. stripe_customer_id (Opcional)\r\n *     14. blood_type (Tipo de sangre)\r\n *     15. registration_date (Fecha de registro, si no se especifica se usa la actual)\r\n *     16. status (Estado del usuario, por defecto 'activo')\r\n *     17. career_id (ID de la carrera)\r\n *     18. n_control (Número de control)\r\n *     19. semestre (Semestre)\r\n *     20. group (Grupo)\r\n *     21. workshop (Taller)\r\n *     ",
                "operationId": "178a4e0d1920f7589e9e38d7710f5b25",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "description": "Archivo Excel (.xlsx) con las columnas en el orden especificado",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios importados correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_imported": {
                                                    "type": "integer",
                                                    "example": 32
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuarios importados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error en la validación o formato del archivo.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Archivo Excel inválido o columnas incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/import-students": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Importar detalles estudiantiles desde un archivo Excel",
                "description": "Permite subir un archivo Excel (.xlsx) con los detalles estudiantiles de los usuarios.\r\n *      Solo se insertarán filas con CURP existente en la base de datos y con career_id, n_control y semestre definidos.\r\n *      Columnas esperadas:\r\n *     1. curp (CURP del usuario)\r\n *     2. career_id (ID de la carrera)\r\n *     3. n_control (Número de control)\r\n *     4. semestre (Semestre)\r\n *     5. group (opcional)\r\n *     6. workshop (opcional)",
                "operationId": "a2fb9e09634f7bad889068a279fd8a45",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "description": "Archivo Excel (.xlsx) con las columnas en el orden especificado",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios importados correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_imported": {
                                                    "type": "integer",
                                                    "example": 32
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuarios importados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error en la validación o formato del archivo.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Archivo Excel inválido o columnas incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/update-permissions": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Actualizar permisos a múltiples usuarios",
                "description": "Permite al administrador agregar o eliminar permisos a varios usuarios al mismo tiempo.\r\n *     Se puede especificar una lista de CURP o role (solo uno de los dos) y los permisos que se añadirán o eliminarán.",
                "operationId": "updateManyUserPermissions",
                "requestBody": {
                    "description": "Datos necesarios para actualizar permisos de usuario.",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdatePermissionsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Respuesta de usuarios actualizados.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "users_permissions": {
                                                    "description": "Usuarios con permisos actualizados",
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/UserWithUpdatedPermissionsResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Permisos actualizados correctamente.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los datos enviados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "El campo emails es obligatorio."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado: el usuario autenticado no tiene permiso para ejecutar esta acción"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/showUsers": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Mostrar usuarios existentes",
                "description": "Permite al administrador ver a todos los usuarios registrados, junto con sus roles, permisos y detalles académicos (si aplica).",
                "operationId": "showAllUsers",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Cantidad de usuarios por página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página a mostrar",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filtrar usuarios por estatus",
                        "required": false,
                        "schema": {
                            "$ref": "#/components/schemas/UserStatus"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuarios obtenidos correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "users": {
                                                    "$ref": "#/components/schemas/PaginatedResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuarios encontrados."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/updated-roles": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Sincroniza roles de múltiples usuarios",
                "description": "Permite agregar o eliminar roles a varios usuarios simultáneamente.",
                "operationId": "updateManyUserRoles",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateRolesRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Roles actualizados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Roles actualizados correctamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "users_roles": {
                                                    "$ref": "#/components/schemas/UserWithUpdatedRoleResponse"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/activate-users": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Activa múltiples usuarios",
                "description": "Cambia el estado de los usuarios seleccionados a 'activado'.",
                "operationId": "c91d83e3748e694a996b1e64fa782f83",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangeUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios activados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/UserChangedStatusResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estatus de usuarios actualizados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/delete-users": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Elimina múltiples usuarios",
                "description": "Cambia el estado de los usuarios seleccionados a 'eliminado'.",
                "operationId": "7c9bf99943dfe8c45c4e013b6f21ad99",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangeUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios eliminados correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/UserChangedStatusResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estatus de usuarios actualizados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/disable-users": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Da de baja múltiples usuarios",
                "description": "Cambia el estado de los usuarios seleccionados a 'baja'.",
                "operationId": "fdfddee8ed6255a0160e6a49045870aa",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangeUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios dados de baja correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/UserChangedStatusResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estatus de usuarios actualizados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/temporary-disable-users": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Da de baja temporal múltiples usuarios",
                "description": "Cambia el estado de los usuarios seleccionados a 'baja-temporal'.",
                "operationId": "5d3b588afbaedf14d6a3b0cbeee57c5f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangeUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuarios dados de baja correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/UserChangedStatusResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Estatus de usuarios actualizados correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/find-permissions": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Mostrar permisos existentes",
                "description": "Permite al administrador ver todos los permisos registrados.",
                "operationId": "showAllPermissions",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FindPermissionsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Permisos obtenidos correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "permissions": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PermissionsByUsers"
                                                        },
                                                        {
                                                            "properties": {
                                                                "role": {
                                                                    "type": "string",
                                                                    "example": "student"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "users": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "properties": {
                                                                            "id": {
                                                                                "type": "integer",
                                                                                "example": 1
                                                                            },
                                                                            "fullName": {
                                                                                "type": "string",
                                                                                "example": "Ana García"
                                                                            },
                                                                            "curp": {
                                                                                "type": "string",
                                                                                "example": "GAAA900101HDFRRN05"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "permissions": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/Permission"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/find-roles": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Mostrar roles existentes",
                "description": "Permite al administrador ver todos los roles registrados.",
                "operationId": "showAllRoles",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Roles obtenidos correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "roles": {
                                                    "description": "Lista de roles disponibles.",
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Role"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/roles/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Mostrar rol por ID",
                "description": "Permite al administrador ver la información de un rol específico por su identificador.",
                "operationId": "showRoleById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del rol a consultar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 2
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Rol obtenido correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "role": {
                                                    "$ref": "#/components/schemas/Role"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/admin-actions/permissions/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Mostrar permiso por ID",
                "description": "Permite al administrador ver la información de un permiso específico por su identificador.",
                "operationId": "showPermissionById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del permiso a consultar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Permiso obtenido correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "permission": {
                                                    "$ref": "#/components/schemas/Permission"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/email/verification-notification": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Enviar enlace de verificación de correo",
                "description": "Envía un correo con el enlace de verificación si el usuario aún no ha verificado su email.",
                "operationId": "sendEmailVerificationNotification",
                "responses": {
                    "200": {
                        "description": "Enlace de verificación enviado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "verification-link-sent"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "302": {
                        "description": "Redirección al dashboard si el email ya está verificado"
                    },
                    "401": {
                        "description": "No autenticado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reset-password": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Actualizar contraseña usando token",
                "description": "Permite que un usuario actualice su contraseña usando el token enviado por correo.",
                "operationId": "resetPassword",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "token",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "token": {
                                        "type": "string",
                                        "example": "token_generado_por_correo"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "usuario@mail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "nuevaContrasena123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "nuevaContrasena123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contraseña actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "passwords.reset"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validación fallida o token inválido"
                    }
                }
            }
        },
        "/api/forgot-password": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Enviar link para restablecer contraseña",
                "description": "Envía un correo con el enlace de restablecimiento de contraseña al email proporcionado.",
                "operationId": "sendPasswordResetLink",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "usuario@mail.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Enlace de restablecimiento enviado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "passwords.sent"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Email no válido o usuario no encontrado"
                    }
                }
            }
        },
        "/api/verify-email/{id}/{hash}": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Verificar email del usuario",
                "description": "Marca el correo del usuario como verificado si el hash es correcto.",
                "operationId": "verifyEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del usuario",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "hash",
                        "in": "path",
                        "description": "Hash de verificación enviado por correo",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "hash_generado_por_laravel"
                        }
                    }
                ],
                "responses": {
                    "302": {
                        "description": "Redirige al frontend con ?verified=1"
                    },
                    "401": {
                        "description": "No autenticado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Registrar un nuevo usuario",
                "description": "Crea un nuevo usuario en el sistema con los datos proporcionados.",
                "operationId": "registerUser",
                "requestBody": {
                    "description": "Datos necesarios para el registro del usuario",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Usuario creado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario ha sido creado con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "El campo email es obligatorio."
                                                ],
                                                "password": [
                                                    "El campo password debe tener al menos 6 caracteres."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado en el servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Inicio de sesión de usuario",
                "description": "Autentica un usuario con su correo electrónico y contraseña, devolviendo el access token y refresh token.",
                "operationId": "loginUser",
                "requestBody": {
                    "description": "Credenciales del usuario para iniciar sesión",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Inicio de sesión exitoso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user_tokens": {
                                                    "$ref": "#/components/schemas/LoginResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Inicio de sesión exitoso."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "El campo email es obligatorio."
                                                ],
                                                "password": [
                                                    "El campo password es obligatorio."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciales incorrectas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Credenciales incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/refresh-token": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Refrescar token de acceso",
                "description": "Recibe un token de actualización (refresh token) y devuelve un nuevo token de acceso válido. Tambien rota el refresh token",
                "operationId": "c23aa3db3a78e6bcaf00af7871c1772c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "refresh_token"
                                ],
                                "properties": {
                                    "refresh_token": {
                                        "type": "string",
                                        "example": "def50200fcdcb15b13e..."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tokens renovados con exito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user_tokens": {
                                                    "$ref": "#/components/schemas/LoginResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tokens renovados."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "refresh_token": [
                                                    "El refresh token es obligatorio."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciales incorrectas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Credenciales incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Cerrar sesión",
                "description": "Cierra la sesión del usuario y revoca el refresh token proporcionado.",
                "operationId": "a027d55475c46881ca6df48858d101ea",
                "parameters": [
                    {
                        "name": "x-refresh-token",
                        "in": "header",
                        "description": "Refresh token asociado a la sesión",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "def50200fcdcb15b13e..."
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Sesión cerrada exitosamente (sin contenido)"
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "description": "Listado de errores de validación",
                                            "type": "object",
                                            "example": {
                                                "refresh_token": [
                                                    "El refresh token es es invalido o incorrecto."
                                                ]
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciales incorrectas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Credenciales incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error inesperado del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/cards/{paymentMethodId}": {
            "delete": {
                "tags": [
                    "Cards"
                ],
                "summary": "Eliminar un método de pago",
                "description": "Elimina un método de pago específico asociado al usuario autenticado.",
                "operationId": "deleteUserCard",
                "parameters": [
                    {
                        "name": "paymentMethodId",
                        "in": "path",
                        "description": "ID del método de pago a eliminar (por ejemplo, 'pm_1P7E89AjcPzVqRkV')",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "pm_1P7E89AjcPzVqRkV"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Método de pago eliminado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Método de pago eliminado correctamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Método de pago no encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/cards": {
            "post": {
                "tags": [
                    "Cards"
                ],
                "summary": "Registrar un nuevo método de pago",
                "description": "Crea una sesión de Stripe Checkout para registrar una nueva tarjeta del usuario autenticado.",
                "operationId": "addUserCard",
                "responses": {
                    "201": {
                        "description": "Sesión de registro de método de pago creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "cards": {
                                                    "description": "Url del checkout para agregar tarjeta",
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/SetupCardResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/cards/{id}": {
            "get": {
                "tags": [
                    "Cards"
                ],
                "summary": "Listar métodos de pago del usuario autenticado",
                "description": "Obtiene la lista de tarjetas o métodos de pago asociados al usuario autenticado. Permite forzar actualización del caché.",
                "operationId": "getUserCards",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza la actualización del caché.",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de métodos de pago obtenida correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "cards": {
                                                    "description": "Lista de métodos de pago del usuario",
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/DisplayPaymentMethodResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontraron métodos de pago.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado - Token inválido o ausente"
                    },
                    "500": {
                        "description": "Error interno del servidor"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/careers": {
            "get": {
                "tags": [
                    "Careers"
                ],
                "summary": "Obtener todas las carreras",
                "operationId": "535d0e811dc5cff67f58c33b6b0649fa",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de carreras",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "careers": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/DomainCareer"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Carreras encontradas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Careers"
                ],
                "summary": "Crear una nueva carrera",
                "operationId": "042b58252d46151ca550a211432adf06",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateCareerRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Carrera creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "career": {
                                                    "$ref": "#/components/schemas/DomainCareer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Carrera creada."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/careers/{id}": {
            "get": {
                "tags": [
                    "Careers"
                ],
                "summary": "Obtener una carrera por ID",
                "operationId": "e44f69b3e40c57e3183b795eb9f52154",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la carrera",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Carrera encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "career": {
                                                    "$ref": "#/components/schemas/DomainCareer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Carrera encontrada."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "Careers"
                ],
                "summary": "Actualizar una carrera existente",
                "operationId": "1e5fcdffb18cec1d175f63a8f46baf01",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la carrera",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateCareerRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Carrera actualizada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "updated": {
                                                    "$ref": "#/components/schemas/DomainCareer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Carrera actualizada."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1//careers/{id}": {
            "delete": {
                "tags": [
                    "Careers"
                ],
                "summary": "Eliminar una carrera",
                "operationId": "9176a2c687042e7640092fa5afcbd0b1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la carrera a eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Carrera eliminada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Carrera eliminada con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/dashboard-staff/refresh": {
            "post": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Limpiar el caché del dashboard",
                "description": "Forza el borrado del caché en todos los datos del dashboard.",
                "operationId": "bd1308f96ae260af7d85ac0b96730b37",
                "responses": {
                    "200": {
                        "description": "Caché limpiado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Dashboard cache limpiado con éxito"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard-staff/concepts": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener todos los conceptos de pago",
                "description": "Devuelve una lista paginada de conceptos de pago visibles en el panel del personal. Permite filtrar por año actual y forzar actualización del caché.",
                "operationId": "2b844dca986c636b547fa3f0d8a91958",
                "parameters": [
                    {
                        "name": "only_this_year",
                        "in": "query",
                        "description": "Si es true, filtra los conceptos al año actual",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Cantidad de registros por página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página a obtener",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza actualización del caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de conceptos obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concepts": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/ConceptsToDashboardResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard-staff/payments-made": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener monto total de pagos realizados",
                "operationId": "5fcc30772287b8eb0fbfb98833944536",
                "parameters": [
                    {
                        "name": "only_this_year",
                        "in": "query",
                        "description": "Filtrar solo por el año actual",
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché",
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Monto total de pagos realizados obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_earning": {
                                                    "type": "string",
                                                    "example": 325000
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error al obtener los pagos pendientes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard-staff/students": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener el número total de estudiantes",
                "operationId": "4a12c92ac48e2f3f2ab3f5f497491eb8",
                "parameters": [
                    {
                        "name": "only_this_year",
                        "in": "query",
                        "description": "Filtrar solo por el año actual",
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché",
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Número total de estudiantes obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_students": {
                                                    "type": "integer",
                                                    "example": 1500
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error al obtener los pagos pendientes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard-staff/pending-payments": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener cantidad y monto total de pagos pendientes",
                "description": "Devuelve el total de conceptos pendientes de pago, incluyendo cantidad y monto total. Se puede filtrar por el año actual y forzar la actualización del caché.",
                "operationId": "79711f7937015b505da2b4d95e278449",
                "parameters": [
                    {
                        "name": "only_this_year",
                        "in": "query",
                        "description": "Filtrar solo por el año actual",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Totales de pagos pendientes obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_pending": {
                                                    "$ref": "#/components/schemas/PendingSummaryResponse"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error al obtener los pagos pendientes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard-staff/data": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener estadísticas generales del dashboard",
                "description": "Devuelve estadísticas generales como totales, montos y datos de rendimiento. Se puede filtrar por año actual y forzar actualización del caché.",
                "operationId": "c6a5250e5a0e50c03ce53dc8e1416be0",
                "parameters": [
                    {
                        "name": "only_this_year",
                        "in": "query",
                        "description": "Si es true, filtra los datos al año actual",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza la actualización del caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Datos del dashboard obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "statistics": {
                                                    "$ref": "#/components/schemas/DashboardDataResponse"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado al obtener los datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/refresh": {
            "post": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Limpiar caché del dashboard",
                "description": "Limpia el caché de datos almacenados en el dashboard (estadísticas, pagos, etc.)",
                "operationId": "refreshDashboardCache",
                "responses": {
                    "200": {
                        "description": "Caché del dashboard limpiado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Dashboard cache limpiado con éxito"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/history/{id}": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener historial de pagos del usuario autenticado",
                "description": "Devuelve una lista paginada con el historial de pagos realizados por el usuario autenticado. Permite forzar la actualización del caché.",
                "operationId": "getPaymentHistory",
                "parameters": [
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Número de registros por página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Historial de pagos obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payment_history": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/PaymentHistoryResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay pagos registrados en el historial",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado - Token inválido o ausente"
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados"
                    },
                    "500": {
                        "description": "Error interno del servidor"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/overdue/{id}": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener total de pagos vencidos del usuario",
                "description": "Devuelve el monto total de los pagos vencidos asociados al usuario autenticado.",
                "operationId": "getOverduePayments",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cantidad de pagos vencidos obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "overdue": {
                                            "properties": {
                                                "total_overdue": {
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/paid/{id}": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener total de pagos realizados por el usuario",
                "description": "Devuelve el monto total de pagos completados por el usuario autenticado.",
                "operationId": "getPaidAmount",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Monto total de pagos realizados obtenido correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "paid": {
                                            "properties": {
                                                "total_paid": {
                                                    "type": "string",
                                                    "example": 3500
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/pending/{id}": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener total de pagos pendientes del usuario",
                "description": "Devuelve la cantidad y monto total de los pagos pendientes del usuario autenticado.",
                "operationId": "getPendingPayments",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Totales de pagos pendientes obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total_pending": {
                                                    "$ref": "#/components/schemas/PendingSummaryResponse"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error al obtener los pagos pendientes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/{id}": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Obtener estadísticas generales del dashboard del usuario",
                "description": "Devuelve información resumida de los conceptos, pagos y deudas del usuario autenticado.",
                "operationId": "getDashboardData",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Datos del dashboard obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "statistics": {
                                                    "$ref": "#/components/schemas/DashboardDataResponse"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No estás autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ocurrió un error inesperado al obtener los datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/debts/stripe-payments": {
            "get": {
                "tags": [
                    "Debts"
                ],
                "summary": "Obtener pagos desde Stripe",
                "description": "Obtiene todos los pagos registrados en Stripe asociados a un estudiante específico. Se puede filtrar por año y forzar actualización del caché.",
                "operationId": "7a955e098f48d1a8b013eef23755b31a",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Email, CURP o n_control",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "25687290"
                        }
                    },
                    {
                        "name": "year",
                        "in": "query",
                        "description": "Año específico de los pagos",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 2025
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza la actualización del caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pagos obtenidos correctamente desde Stripe",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payments": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/StripePaymentsResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Pagos obtenidos correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados"
                    },
                    "409": {
                        "description": "Recurso no encontrado"
                    },
                    "500": {
                        "description": "Error de Stripe"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/debts/validate": {
            "post": {
                "tags": [
                    "Debts"
                ],
                "summary": "Validar un pago de Stripe",
                "description": "Valida un pago realizado en Stripe mediante el `payment_intent_id` y la búsqueda del estudiante.",
                "operationId": "5bc38b4d4aa111d4ebdf6de90befac6c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ValidatePaymentRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Pago validado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "validated_payment": {
                                                    "$ref": "#/components/schemas/PaymentValidateResponse"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Pago validado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los datos enviados"
                    },
                    "409": {
                        "description": "Recurso no encontrado"
                    },
                    "500": {
                        "description": "Error de Stripe"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/debts": {
            "get": {
                "tags": [
                    "Debts"
                ],
                "summary": "Listar pagos pendientes",
                "description": "Obtiene una lista paginada de todos los pagos pendientes registrados. Permite buscar por nombre o control del estudiante, paginar los resultados y forzar la actualización del caché.",
                "operationId": "6252587fb8c526bfb1bb970090853f6b",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Texto de búsqueda para filtrar por CURP, email o número de control del estudiante.",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "example@gmail.com"
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Número de elementos por página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página actual",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza la actualización del caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de pagos pendientes obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "pending_payments": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/ConceptNameAndAmountResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/find/concept/{id}": {
            "get": {
                "tags": [
                    "FindEntity"
                ],
                "summary": "Buscar concepto de pago por ID",
                "description": "Obtiene la información de un concepto de pago específico mediante su identificador.",
                "operationId": "a4f01187f8b40a39612dbe6c4e6db667",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del concepto a buscar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Concepto encontrado correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto encontrado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Concepto no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El concepto solicitado no existe."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado"
                    },
                    "403": {
                        "description": "No autorizado"
                    },
                    "500": {
                        "description": "Error inesperado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/find/payment/{id}": {
            "get": {
                "tags": [
                    "FindEntity"
                ],
                "summary": "Buscar pago por ID",
                "description": "Obtiene la información detallada de un pago específico mediante su identificador.",
                "operationId": "b46418648e17d667d6c4a8b9549c414b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del pago a buscar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pago encontrado correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payment": {
                                                    "$ref": "#/components/schemas/DomainPayment"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Pago encontrado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pago no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El pago solicitado no existe."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado"
                    },
                    "403": {
                        "description": "No autorizado"
                    },
                    "500": {
                        "description": "Error inesperado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/parents/invite": {
            "post": {
                "tags": [
                    "Parents"
                ],
                "summary": "Enviar invitación a un padre",
                "operationId": "4f2fd20a846ff6030acb250622df8cb6",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SendInviteRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Invitación enviada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation enviada con exito"
                                        },
                                        "data": {
                                            "properties": {
                                                "token": {
                                                    "type": "string",
                                                    "example": "uuid-token"
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-27T12:34:56Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El correo es obligatorio"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/parents/invite/accept": {
            "post": {
                "tags": [
                    "Parents"
                ],
                "summary": "Aceptar invitación de un padre",
                "operationId": "049d727a465579831a22bcfdfe263ed1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AcceptInviteRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invitación aceptada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "La invitación ha sido aceptada"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El token es obligatorio"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/parents/get-children": {
            "get": {
                "tags": [
                    "Parents"
                ],
                "summary": "Obtiene los hijos del parent",
                "operationId": "b19527c8231cfe01f47c8ea01dbd7136",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del parent",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "children": {
                                                    "description": "Lista de hijos del usuario",
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/ParentChildrenResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Datos obtenidos"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/concepts": {
            "get": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Listar conceptos de pago",
                "description": "Obtiene una lista paginada de conceptos de pago, con filtros opcionales por estado y control de caché.",
                "operationId": "7b2457df1dbe68942b72956f021e15c5",
                "parameters": [
                    {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Cantidad de registros por página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página a obtener",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Si es true, fuerza actualización de caché",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado de conceptos de pago obtenido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concepts": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/DomainPaymentConcept"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Crear un nuevo concepto de pago",
                "description": "Crea un nuevo concepto de pago y lo asocia con las entidades correspondientes (carreras, semestres, estudiantes).",
                "operationId": "d4a46f73910eee38f9ae69b167c5f3f0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StorePaymentConceptRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Concepto de pago creado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago creado con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error en la validación de datos."
                                        },
                                        "errors": {
                                            "description": "Errores de validación por campo",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Conflicto en los datos."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Recurso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Recurso no encontrado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/concepts/{id}": {
            "put": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Actualizar un concepto de pago",
                "description": "Actualiza los datos de un concepto de pago existente. Todos los campos son opcionales (usar 'sometimes'), excepto el id en la ruta.",
                "operationId": "167231eaeb26ca131cbad24a74929639",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del concepto de pago",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdatePaymentConceptRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Concepto actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago actualizado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error en la validación de datos"
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    },
                    "404": {
                        "description": "Recurso no encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Eliminar concepto de pago (físicamente)",
                "operationId": "d61e99309acac6cad9ec93aff3ae5fb9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Concepto de pago eliminado correctamente"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/concepts/{id}/finalize": {
            "post": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Finalizar concepto de pago",
                "operationId": "5538e95b12edc9fad26df0f51ccc550f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Concepto finalizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago finalizado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/concepts/{id}/disable": {
            "post": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Deshabilitar un concepto de pago",
                "operationId": "8f22e90850b3d1ee51c2b0cbfb24d75a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Concepto deshabilitado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago deshabilitado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/concepts/{id}/activate": {
            "post": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Habilitar un concepto de pago",
                "operationId": "ba6e0a4ed620d7b5d932247acbb7ee40",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Concepto activado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago habilitado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/concepts/{id}/logical": {
            "post": {
                "tags": [
                    "Payment Concepts"
                ],
                "summary": "Eliminar concepto de pago (lógicamente)",
                "operationId": "7da8ecb89c3ac7a63b1ecc7f7a1f4837",
                "responses": {
                    "200": {
                        "description": "Concepto eliminado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "concept": {
                                                    "$ref": "#/components/schemas/DomainPaymentConcept"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Concepto de pago eliminado correctamente."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflicto en los datos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/history/{id}": {
            "get": {
                "tags": [
                    "Payment History"
                ],
                "summary": "Obtener historial de pagos del usuario autenticado",
                "description": "Devuelve el historial de pagos del usuario logueado, con soporte para paginación y cacheo.",
                "operationId": "getUserPaymentHistory",
                "parameters": [
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Cantidad de registros por página (por defecto 15).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página (por defecto 1).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Historial de pagos obtenido correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payment_history": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/PaymentDetailResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay historial de pagos para este usuario.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado - Token inválido o ausente."
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/payments": {
            "get": {
                "tags": [
                    "Payments"
                ],
                "summary": "Obtener lista de pagos",
                "description": "Devuelve una lista paginada de pagos registrados, con opción de búsqueda por email, CURP o número de control, y posibilidad de forzar actualización del caché.",
                "operationId": "getPayments",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Filtro opcional para buscar por email, nombre o nombre de concepto de pago.",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "example@gmail.com"
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Número de resultados por página (por defecto 15).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página actual (por defecto 1).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de pagos obtenida exitosamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payments": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/PaymentListItemResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay pagos registrados.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados."
                    },
                    "409": {
                        "description": "Recurso no encontrado"
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/pending-payments/{id}": {
            "get": {
                "tags": [
                    "Pending Payment"
                ],
                "summary": "Obtener pagos pendientes del usuario autenticado",
                "description": "Devuelve todos los conceptos pendientes de pago del usuario logueado.",
                "operationId": "getUserPendingPayments",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pagos pendientes obtenidos correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "pending_payments": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/PendingPaymentConceptsResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay pagos pendientes para el usuario.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado - Token inválido o ausente."
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/pending-payments": {
            "post": {
                "tags": [
                    "Pending Payment"
                ],
                "summary": "Generar intento de pago para un concepto pendiente",
                "description": "Crea un intento de pago en Stripe (u otro proveedor) para el concepto indicado y devuelve la URL del checkout.",
                "operationId": "createPaymentIntent",
                "requestBody": {
                    "description": "Datos necesarios para generar el intento de pago",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PayConceptRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Intento de pago generado correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "url_checkout": {
                                                    "type": "string",
                                                    "example": "https://checkout.stripe.com/pay/cs_test_a1b2c3d4e5"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El intento de pago se generó con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No está permitido realizar esta acción."
                    },
                    "404": {
                        "description": "Recurso no encontrado."
                    },
                    "422": {
                        "description": "Error de validación en los datos enviados."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/pending-payments/overdue/{id}": {
            "get": {
                "tags": [
                    "Pending Payment"
                ],
                "summary": "Obtener pagos vencidos del usuario autenticado",
                "description": "Devuelve los pagos que ya están vencidos para el usuario autenticado.",
                "operationId": "getUserOverduePayments",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true/false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del children",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 3
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pagos vencidos obtenidos correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "pending_payments": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/PendingPaymentConceptsResponse"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay pagos vencidos para el usuario.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado - Token inválido o ausente."
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados."
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/students": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Obtener lista de alumnos",
                "description": "Devuelve una lista paginada de estudiantes registrados, con opción de búsqueda por email, CURP o número de control, y posibilidad de forzar actualización del caché.",
                "operationId": "getStudents",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Filtro opcional para buscar por email, CURP o número de control del estudiante.",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "PERA020804MSHPNXA8"
                        }
                    },
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Número de resultados por página (por defecto 15).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página actual (por defecto 1).",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización de caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de pagos obtenida exitosamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payments": {
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/PaginatedResponse"
                                                        },
                                                        {
                                                            "properties": {
                                                                "items": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "$ref": "#/components/schemas/UserWithPendingSumamaryResponse"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No hay estudiantes registrados.",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los parámetros enviados."
                    },
                    "409": {
                        "description": "Recurso no encontrado"
                    },
                    "500": {
                        "description": "Error interno del servidor."
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/users/update": {
            "patch": {
                "tags": [
                    "Users"
                ],
                "summary": "Actualizar los datos generales de un usuario",
                "operationId": "5e8500002e042839d99c681641c16292",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario ha sido actualizado con éxito."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/users/update/password": {
            "patch": {
                "tags": [
                    "Users"
                ],
                "summary": "Actualizar la contraseña de un usuario",
                "operationId": "0078c62ed17e4a7ca2966842765828f5",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdatePasswordRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contraseña actualizada correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Password actualizada con éxito"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/users/user": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Obtener usuario autenticado",
                "description": "Devuelve la información del usuario autenticado en el sistema.",
                "operationId": "77b23e9d5dafebf3fb50541dc99e865a",
                "parameters": [
                    {
                        "name": "forceRefresh",
                        "in": "query",
                        "description": "Forzar actualización del caché (true o false).",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario autenticado encontrado correctamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/DomainUser"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario encontrado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se encontró el usuario autenticado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado"
                    },
                    "403": {
                        "description": "No autorizado"
                    },
                    "500": {
                        "description": "Error inesperado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "LoginDTO": {
                "description": "Datos necesarios para iniciar sesión",
                "required": [
                    "email",
                    "password"
                ],
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "usuario@example.com"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "example": "secret123"
                    }
                },
                "type": "object"
            },
            "CreatePaymentConceptDTO": {
                "description": "Datos para crear un concepto de pago",
                "required": [
                    "concept_name",
                    "amount",
                    "status",
                    "is_global"
                ],
                "properties": {
                    "concept_name": {
                        "type": "string",
                        "example": "Pago de inscripción"
                    },
                    "description": {
                        "type": "string",
                        "example": "Pago correspondiente al semestre 2025A",
                        "nullable": true
                    },
                    "amount": {
                        "type": "string",
                        "example": "1500.00"
                    },
                    "status": {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    "start_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-09-01",
                        "nullable": true
                    },
                    "end_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-12-31",
                        "nullable": true
                    },
                    "is_global": {
                        "type": "boolean",
                        "example": true
                    },
                    "appliesTo": {
                        "$ref": "#/components/schemas/PaymentConceptAppliesTo"
                    },
                    "semesters": {
                        "description": "Semestres asociados al concepto",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ],
                        "nullable": true
                    },
                    "careers": {
                        "description": "Carreras asociadas al concepto",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2
                        ],
                        "nullable": true
                    },
                    "students": {
                        "description": "Numeros de control de estudiantes asociados al concepto",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "12345",
                            "67891"
                        ],
                        "nullable": true
                    },
                    "exceptionStudents": {
                        "description": "Numeros de control de estudiantes a los que el concepto no aplica",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "12345",
                            "67891"
                        ],
                        "nullable": true
                    },
                    "applicantTags": {
                        "description": "Array para aplicar conceptos a alumnos con casos especiales",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "no_student_details",
                            "applicants"
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UpdatePaymentConceptDTO": {
                "description": "Datos para actualizar un concepto de pago",
                "required": [
                    "id",
                    "fieldsToUpdate"
                ],
                "properties": {
                    "id": {
                        "description": "ID del concepto a actualizar",
                        "type": "integer",
                        "example": 1
                    },
                    "fieldsToUpdate": {
                        "description": "Campos del concepto a actualizar con sus nuevos valores",
                        "type": "object",
                        "example": {
                            "concept_name": "Pago matrícula",
                            "amount": "2000.00",
                            "status": "activo"
                        }
                    },
                    "semesters": {
                        "description": "Semestres asociados al concepto",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ],
                        "nullable": true
                    },
                    "careers": {
                        "description": "Carreras asociadas al concepto",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2
                        ],
                        "nullable": true
                    },
                    "students": {
                        "description": "Numeros de control de estudiantes asociados al concepto",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "12345",
                            "67891"
                        ],
                        "nullable": true
                    },
                    "exceptionStudents": {
                        "description": "Numeros de control de estudiantes a los que el concepto no aplica",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "12345",
                            "67891"
                        ],
                        "nullable": true
                    },
                    "applicantTags": {
                        "description": "Array para aplicar conceptos a alumnos con casos especiales",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "no_student_details",
                            "applicants"
                        ],
                        "nullable": true
                    },
                    "appliesTo": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PaymentConceptAppliesTo"
                            }
                        ],
                        "nullable": true,
                        "description": "A quién aplica el concepto",
                        "example": "todos"
                    },
                    "replaceRelations": {
                        "description": "Si es true, reemplaza las relaciones existentes con las nuevas",
                        "type": "boolean",
                        "example": false
                    },
                    "replaceExceptions": {
                        "description": "Si es true, reemplaza los estudiantes a los que no aplica el concepto",
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "CreateStudentDetailDTO": {
                "description": "Datos para crear un detalle de estudiante",
                "properties": {
                    "user_id": {
                        "description": "ID del usuario asociado al detalle",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "career_id": {
                        "description": "ID de la carrera del estudiante",
                        "type": "integer",
                        "example": 2,
                        "nullable": true
                    },
                    "n_control": {
                        "description": "Número de control del estudiante",
                        "type": "integer",
                        "example": 123456,
                        "nullable": true
                    },
                    "semestre": {
                        "description": "Semestre actual del estudiante",
                        "type": "integer",
                        "example": 3,
                        "nullable": true
                    },
                    "group": {
                        "description": "Grupo del estudiante",
                        "type": "string",
                        "example": "A",
                        "nullable": true
                    },
                    "workshop": {
                        "description": "Taller asignado al estudiante",
                        "type": "string",
                        "example": "Taller de matemáticas",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "CreateUserDTO": {
                "description": "Datos para crear un nuevo usuario",
                "required": [
                    "name",
                    "last_name",
                    "email",
                    "password",
                    "phone_number",
                    "curp"
                ],
                "properties": {
                    "name": {
                        "description": "Nombre del usuario",
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "description": "Apellido del usuario",
                        "type": "string",
                        "example": "Pérez"
                    },
                    "email": {
                        "description": "Correo electrónico del usuario",
                        "type": "string",
                        "format": "email",
                        "example": "juan.perez@example.com"
                    },
                    "password": {
                        "description": "Contraseña del usuario",
                        "type": "string",
                        "format": "password",
                        "example": "Password123!"
                    },
                    "phone_number": {
                        "description": "Número de teléfono",
                        "type": "string",
                        "example": "+5215512345678"
                    },
                    "birthdate": {
                        "description": "Fecha de nacimiento",
                        "type": "string",
                        "format": "date",
                        "example": "1995-04-23",
                        "nullable": true
                    },
                    "gender": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserGender"
                            }
                        ],
                        "nullable": true,
                        "description": "Género del usuario",
                        "example": "male"
                    },
                    "curp": {
                        "description": "CURP del usuario",
                        "type": "string",
                        "example": "PEPJ950423HDFRRL09"
                    },
                    "address": {
                        "description": "Dirección del usuario",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "nullable": true
                    },
                    "blood_type": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserBloodType"
                            }
                        ],
                        "nullable": true,
                        "description": "Tipo de sangre",
                        "example": "O+"
                    },
                    "registration_date": {
                        "description": "Fecha de registro",
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-04T19:00:00Z",
                        "nullable": true
                    },
                    "status": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserStatus"
                            }
                        ],
                        "nullable": true,
                        "description": "Estado del usuario",
                        "example": "activo"
                    }
                },
                "type": "object"
            },
            "UpdateUserPermissionsDTO": {
                "properties": {
                    "curps": {
                        "description": "Lista de CURPs de los usuarios a actualizar",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "XAXX010101HNEXXXA",
                            "XEXX010101HNEXXXB"
                        ]
                    },
                    "role": {
                        "description": "Cadena de texto que representa el role a quienes se aplicaran los cambios",
                        "type": "string",
                        "example": [
                            "student"
                        ]
                    },
                    "permissionsToAdd": {
                        "description": "Lista de permisos a agregar a los usuarios",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "find user",
                            "find concept"
                        ]
                    },
                    "permissionsToRemove": {
                        "description": "Lista de permisos a remover de los usuarios",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "delete payment"
                        ]
                    }
                },
                "type": "object"
            },
            "UpdateUserRoleDTO": {
                "description": "Datos para actualizar roles de múltiples usuarios",
                "required": [
                    "curps"
                ],
                "properties": {
                    "curps": {
                        "description": "Lista de CURPs de los usuarios a actualizar",
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "PEPJ800101HDFRRN09"
                        }
                    },
                    "rolesToAdd": {
                        "description": "Lista de roles que se añadirán a los usuarios",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "student",
                            "admin"
                        ]
                    },
                    "rolesToRemove": {
                        "description": "Lista de roles que se eliminarán de los usuarios",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "guest"
                        ]
                    }
                },
                "type": "object"
            },
            "DashboardDataResponse": {
                "properties": {
                    "earnings": {
                        "description": "Ganancias totales",
                        "type": "string",
                        "example": "12500.50",
                        "nullable": true
                    },
                    "pending": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PendingSummaryResponse"
                            }
                        ],
                        "nullable": true,
                        "description": "Resumen de pagos pendientes"
                    },
                    "students": {
                        "description": "Cantidad de estudiantes",
                        "type": "integer",
                        "example": 250,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "DashboardDataUserResponse": {
                "properties": {
                    "completed": {
                        "description": "Monto completado",
                        "type": "string",
                        "example": "10500.00",
                        "nullable": true
                    },
                    "pending": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PendingSummaryResponse"
                            }
                        ],
                        "nullable": true,
                        "description": "Resumen de pagos pendientes"
                    },
                    "overdue": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PendingSummaryResponse"
                            }
                        ],
                        "nullable": true,
                        "description": "Cantidad de pagos vencidos"
                    }
                },
                "type": "object"
            },
            "LoginResponse": {
                "properties": {
                    "access_token": {
                        "description": "Token de acceso JWT",
                        "type": "string",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                        "nullable": true
                    },
                    "refresh_token": {
                        "description": "Token para refrescar el access_token",
                        "type": "string",
                        "example": "dGhpcy1pcy1hLXJlZnJlc2gtdG9rZW4=",
                        "nullable": true
                    },
                    "token_type": {
                        "description": "Tipo de token, normalmente 'bearer'",
                        "type": "string",
                        "example": "bearer",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaginatedResponse": {
                "properties": {
                    "items": {
                        "description": "Lista de elementos paginados",
                        "type": "array",
                        "items": {
                            "type": "object"
                        },
                        "nullable": true
                    },
                    "currentPage": {
                        "type": "integer",
                        "example": 1
                    },
                    "lastPage": {
                        "type": "integer",
                        "example": 5
                    },
                    "perPage": {
                        "type": "integer",
                        "example": 15
                    },
                    "total": {
                        "type": "integer",
                        "example": 72
                    },
                    "hasMorePages": {
                        "type": "boolean",
                        "example": true
                    },
                    "nextPage": {
                        "type": "integer",
                        "example": 2
                    }
                },
                "type": "object"
            },
            "PermissionsByUsers": {
                "properties": {
                    "role": {
                        "type": "string",
                        "example": "student"
                    },
                    "users": {
                        "description": "Lista de usuarios a los que aplican los permisos",
                        "type": "array",
                        "items": {
                            "type": "object"
                        },
                        "nullable": true
                    },
                    "permissions": {
                        "description": "Lista de permisos de los usuarios",
                        "type": "array",
                        "items": {
                            "type": "object"
                        },
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "StripePaymentsResponse": {
                "properties": {
                    "id": {
                        "description": "ID interno del pago en Stripe",
                        "type": "string",
                        "example": "pay_01HXXXXXX",
                        "nullable": true
                    },
                    "payment_intent_id": {
                        "description": "ID del Payment Intent en Stripe",
                        "type": "string",
                        "example": "pi_01HXXXXXX",
                        "nullable": true
                    },
                    "concept_name": {
                        "description": "Nombre del concepto de pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "status": {
                        "description": "Estado del pago",
                        "type": "string",
                        "example": "succeeded",
                        "nullable": true
                    },
                    "amount_total": {
                        "description": "Monto total del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "created": {
                        "description": "Fecha de creación del pago en formato timestamp",
                        "type": "string",
                        "example": "2025-11-04T18:30:00Z",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ParentChildrenResponse": {
                "description": "Respuesta del get que muestra los hijos del padre",
                "properties": {
                    "parentId": {
                        "description": "Id del parent",
                        "type": "integer",
                        "example": 1
                    },
                    "parentName": {
                        "description": "Nombre del parent",
                        "type": "string",
                        "example": "Juan Perez"
                    },
                    "childrenData": {
                        "description": "Usuarios que han cambiado su estado",
                        "type": "array",
                        "items": {
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "example": 3
                                },
                                "name": {
                                    "type": "string",
                                    "example": "Jesus Perez"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "type": "object"
            },
            "PaymentDataResponse": {
                "properties": {
                    "id": {
                        "description": "ID interno del pago",
                        "type": "integer",
                        "example": 123,
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "amount_received": {
                        "description": "Monto del pago recibido",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "status": {
                        "description": "Estado del pago",
                        "type": "string",
                        "example": "completed",
                        "nullable": true
                    },
                    "payment_intent_id": {
                        "description": "ID del Payment Intent asociado",
                        "type": "string",
                        "example": "pi_01HXXXXXX",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaymentDetailResponse": {
                "properties": {
                    "id": {
                        "description": "ID interno del pago",
                        "type": "integer",
                        "example": 123,
                        "nullable": true
                    },
                    "concept": {
                        "description": "Concepto del pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "amount_received": {
                        "description": "Monto del pago recibido",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "balance": {
                        "description": "Saldo a favor",
                        "type": "string",
                        "example": "150.00",
                        "nullable": true
                    },
                    "date": {
                        "description": "Fecha del pago",
                        "type": "string",
                        "example": "2025-11-04",
                        "nullable": true
                    },
                    "status": {
                        "description": "Estado del pago",
                        "type": "string",
                        "example": "completed",
                        "nullable": true
                    },
                    "reference": {
                        "description": "Referencia del pago",
                        "type": "string",
                        "example": "REF123456",
                        "nullable": true
                    },
                    "url": {
                        "description": "URL del recibo de pago",
                        "type": "string",
                        "example": "https://example.com/receipt/123",
                        "nullable": true
                    },
                    "payment_method_details": {
                        "description": "Detalles del método de pago utilizado",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaymentHistoryResponse": {
                "properties": {
                    "id": {
                        "description": "ID interno del pago",
                        "type": "integer",
                        "example": 123,
                        "nullable": true
                    },
                    "concept": {
                        "description": "Concepto del pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "amount_received": {
                        "description": "Monto del pago recibido",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "date": {
                        "description": "Fecha del pago",
                        "type": "string",
                        "example": "2025-11-04",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaymentListItemResponse": {
                "properties": {
                    "date": {
                        "description": "Fecha del pago",
                        "type": "string",
                        "example": "2025-11-04",
                        "nullable": true
                    },
                    "concept": {
                        "description": "Concepto del pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "amount_received": {
                        "description": "Monto del pago recibido",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "method": {
                        "description": "Método de pago usado",
                        "type": "string",
                        "example": "Tarjeta de crédito",
                        "nullable": true
                    },
                    "fullName": {
                        "description": "Nombre completo del usuario que realizó el pago",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaymentValidateResponse": {
                "properties": {
                    "student": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserDataResponse"
                            }
                        ],
                        "nullable": true
                    },
                    "payment": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PaymentDataResponse"
                            }
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ConceptNameAndAmountResponse": {
                "properties": {
                    "user_name": {
                        "description": "Nombre del usuario asociado al pago",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "concept_name": {
                        "description": "Nombre del concepto de pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ConceptsToDashboardResponse": {
                "properties": {
                    "id": {
                        "description": "ID del concepto",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "concept_name": {
                        "description": "Nombre del concepto de pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "status": {
                        "description": "Estado del concepto",
                        "type": "string",
                        "example": "activo",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del concepto",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "applies_to": {
                        "description": "A quién aplica el concepto",
                        "type": "string",
                        "example": "todos",
                        "nullable": true
                    },
                    "start_date": {
                        "description": "Fecha de inicio de validez",
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-01",
                        "nullable": true
                    },
                    "end_date": {
                        "description": "Fecha de fin de validez",
                        "type": "string",
                        "format": "date",
                        "example": "2025-12-01",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PendingPaymentConceptsResponse": {
                "properties": {
                    "id": {
                        "description": "ID del concepto pendiente",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "concept_name": {
                        "description": "Nombre del concepto pendiente",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "description": {
                        "description": "Descripción del concepto",
                        "type": "string",
                        "example": "Pago correspondiente al semestre 2025-2",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del concepto pendiente",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    },
                    "start_date": {
                        "description": "Fecha de inicio del concepto pendiente",
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-01",
                        "nullable": true
                    },
                    "end_date": {
                        "description": "Fecha de finalización del concepto pendiente",
                        "type": "string",
                        "format": "date",
                        "example": "2025-12-01",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PendingSummaryResponse": {
                "properties": {
                    "totalAmount": {
                        "description": "Monto total pendiente",
                        "type": "string",
                        "example": "4500.00",
                        "nullable": true
                    },
                    "totalCount": {
                        "description": "Cantidad total de conceptos pendientes",
                        "type": "integer",
                        "example": 3,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "DisplayPaymentMethodResponse": {
                "properties": {
                    "id": {
                        "description": "ID del método de pago",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "brand": {
                        "description": "Marca de la tarjeta",
                        "type": "string",
                        "example": "Visa",
                        "nullable": true
                    },
                    "masked_card": {
                        "description": "Número de tarjeta enmascarado",
                        "type": "string",
                        "example": "**** **** **** 4242",
                        "nullable": true
                    },
                    "expiration_date": {
                        "description": "Fecha de expiración de la tarjeta",
                        "type": "string",
                        "example": "12/25",
                        "nullable": true
                    },
                    "status": {
                        "description": "Estado del método de pago",
                        "type": "string",
                        "example": "active",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "SetupCardResponse": {
                "properties": {
                    "id": {
                        "description": "ID de la configuración de la tarjeta",
                        "type": "string",
                        "example": "pm_01HXXXXXX",
                        "nullable": true
                    },
                    "url": {
                        "description": "URL para completar el setup de la tarjeta",
                        "type": "string",
                        "example": "https://example.com/setup/pm_01HXXXXXX",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserChangedStatusResponse": {
                "description": "Respuesta después de cambiar el estado de uno o más usuarios",
                "properties": {
                    "updatedUsers": {
                        "description": "Usuarios que han cambiado su estado",
                        "type": "array",
                        "items": {
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "example": "Juan Pérez"
                                },
                                "curp": {
                                    "type": "string",
                                    "example": "PEPJ800101HDFRRN09"
                                },
                                "status": {
                                    "type": "string",
                                    "example": "activo"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "newStatus": {
                        "description": "Nuevo estado asignado a los usuarios",
                        "type": "string",
                        "example": "activo"
                    },
                    "totalUpdated": {
                        "description": "Número total de usuarios actualizados",
                        "type": "integer",
                        "example": 5
                    }
                },
                "type": "object"
            },
            "UserDataResponse": {
                "properties": {
                    "id": {
                        "description": "ID del usuario",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "fullName": {
                        "description": "Nombre completo del usuario",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "email": {
                        "description": "Correo electrónico del usuario",
                        "type": "string",
                        "example": "juan.perez@example.com",
                        "nullable": true
                    },
                    "curp": {
                        "description": "CURP del usuario",
                        "type": "string",
                        "example": "PEPJ800101HDFRRN09",
                        "nullable": true
                    },
                    "n_control": {
                        "description": "Número de control del estudiante",
                        "type": "string",
                        "example": "2025001",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserIdListDTO": {
                "properties": {
                    "userIds": {
                        "description": "Lista de IDs de usuario",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserRecipientDTO": {
                "properties": {
                    "id": {
                        "description": "ID del usuario destinatario",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "fullName": {
                        "description": "Nombre completo del destinatario",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "email": {
                        "description": "Correo electrónico del destinatario",
                        "type": "string",
                        "example": "juan.perez@example.com",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserWithPaymentResponse": {
                "properties": {
                    "id": {
                        "description": "ID del usuario",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "fullName": {
                        "description": "Nombre completo del usuario",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "concept": {
                        "description": "Nombre del concepto asociado al pago",
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "description": "Monto del pago",
                        "type": "string",
                        "example": "1500.00",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserWithPendingSumamaryResponse": {
                "properties": {
                    "userId": {
                        "description": "ID del usuario",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "fullName": {
                        "description": "Nombre completo del usuario",
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "semestre": {
                        "description": "Semestre del estudiante",
                        "type": "integer",
                        "example": 5,
                        "nullable": true
                    },
                    "career_name": {
                        "description": "Nombre de la carrera del estudiante",
                        "type": "string",
                        "example": "Ingeniería en Sistemas",
                        "nullable": true
                    },
                    "num_pending": {
                        "description": "Número de conceptos pendientes",
                        "type": "integer",
                        "example": 3,
                        "nullable": true
                    },
                    "num_expired": {
                        "description": "Número de conceptos vencidos",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "total_amount_pending": {
                        "description": "Monto total pendiente",
                        "type": "string",
                        "example": "4500.00",
                        "nullable": true
                    },
                    "total_paid": {
                        "description": "Monto total pagado",
                        "type": "string",
                        "example": "7500.00",
                        "nullable": true
                    },
                    "expired_amount": {
                        "description": "Monto total expirado",
                        "type": "string",
                        "example": "500.00",
                        "nullable": true
                    },
                    "num_paid": {
                        "description": "Número de conceptos pagados",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserWithUpdatedPermissionsResponse": {
                "description": "Respuesta con los permisos actualizados de un usuario o grupo de usuarios",
                "properties": {
                    "fullName": {
                        "description": "Nombre completo del usuario",
                        "type": "string",
                        "example": "Juan Pérez"
                    },
                    "curp": {
                        "description": "CURP del usuario",
                        "type": "string",
                        "example": "PEPJ800101HDFRRN09"
                    },
                    "role": {
                        "description": "Rol actual del usuario",
                        "type": "string",
                        "example": "student"
                    },
                    "updatedPermissions": {
                        "description": "Lista de permisos actualizados (añadidos o removidos)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "find user",
                            "create payment"
                        ]
                    },
                    "totalUpdated": {
                        "description": "Número total de usuarios afectados por la actualización",
                        "type": "integer",
                        "example": 10
                    }
                },
                "type": "object"
            },
            "UserWithUpdatedRoleResponse": {
                "description": "Respuesta con los roles actualizados de varios usuarios",
                "properties": {
                    "fullNames": {
                        "description": "Nombres completos de los usuarios afectados",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Juan Pérez",
                            "Ana Gómez"
                        ]
                    },
                    "curps": {
                        "description": "CURPs de los usuarios afectados",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "PEPJ800101HDFRRN09",
                            "GOMA900202MDFLRN05"
                        ]
                    },
                    "updatedRoles": {
                        "description": "Roles agregados y removidos",
                        "properties": {
                            "added": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "example": [
                                    "student"
                                ]
                            },
                            "removed": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "example": [
                                    "guest"
                                ]
                            }
                        },
                        "type": "object"
                    },
                    "totalUpdated": {
                        "description": "Número total de usuarios actualizados",
                        "type": "integer",
                        "example": 3
                    }
                },
                "type": "object"
            },
            "DomainCareer": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "career_name": {
                        "type": "string",
                        "example": "Matematicas"
                    }
                },
                "type": "object"
            },
            "ParentInvite": {
                "required": [
                    "studentId",
                    "email",
                    "token",
                    "expiresAt",
                    "createdBy"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "studentId": {
                        "type": "integer"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "token": {
                        "type": "string"
                    },
                    "expiresAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "usedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "createdBy": {
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "ParentStudent": {
                "required": [
                    "parentId",
                    "studentId",
                    "parentRoleId",
                    "studentRoleId"
                ],
                "properties": {
                    "parentId": {
                        "type": "integer"
                    },
                    "studentId": {
                        "type": "integer"
                    },
                    "parentRoleId": {
                        "type": "integer"
                    },
                    "studentRoleId": {
                        "type": "integer"
                    },
                    "relationship": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/RelationshipType"
                            }
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "DomainPayment": {
                "description": "Representa un pago realizado por un usuario",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 123
                    },
                    "payment_concept_id": {
                        "type": "integer",
                        "example": 45,
                        "nullable": true
                    },
                    "payment_method_id": {
                        "type": "integer",
                        "example": 2,
                        "nullable": true
                    },
                    "stripe_payment_method_id": {
                        "type": "string",
                        "example": "pm_1Hh1Xx2eZvKYlo2Cj1234567",
                        "nullable": true
                    },
                    "concept_name": {
                        "type": "string",
                        "example": "Pago de inscripción",
                        "nullable": true
                    },
                    "amount": {
                        "type": "string",
                        "example": "1500",
                        "nullable": true
                    },
                    "amount_received": {
                        "type": "string",
                        "example": "1500",
                        "nullable": true
                    },
                    "payment_method_details": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Tarjeta de crédito",
                            "Banco XYZ"
                        ],
                        "nullable": true
                    },
                    "status": {
                        "$ref": "#/components/schemas/PaymentStatus"
                    },
                    "payment_intent_id": {
                        "type": "string",
                        "example": "pi_1Hh1Xx2eZvKYlo2Cd1234567",
                        "nullable": true
                    },
                    "url": {
                        "type": "string",
                        "example": "https://checkout.stripe.com/pay/cs_test_a1b2c3d4",
                        "nullable": true
                    },
                    "stripe_session_id": {
                        "type": "string",
                        "example": "cs_test_a1b2c3d4",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-09-01"
                    }
                },
                "type": "object"
            },
            "DomainPaymentConcept": {
                "description": "Representa un concepto de pago",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "concept_name": {
                        "type": "string",
                        "example": "Pago de inscripción"
                    },
                    "description": {
                        "type": "string",
                        "example": "Pago correspondiente al semestre 2025A",
                        "nullable": true
                    },
                    "status": {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    "start_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-09-01"
                    },
                    "end_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-12-31",
                        "nullable": true
                    },
                    "amount": {
                        "type": "string",
                        "example": "1500.00"
                    },
                    "applies_to": {
                        "$ref": "#/components/schemas/PaymentConceptAppliesTo"
                    },
                    "is_global": {
                        "type": "boolean",
                        "example": true
                    },
                    "userIds": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    },
                    "careerIds": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2
                        ]
                    },
                    "semesters": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    },
                    "exceptionUserIds": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    },
                    "applicantTags": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PaymentConceptApplicantType"
                        }
                    }
                },
                "type": "object"
            },
            "DomainPaymentMethod": {
                "description": "Método de pago de un usuario",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 123
                    },
                    "stripe_payment_method_id": {
                        "type": "string",
                        "example": "pm_1Hh1Xx2eZvKYlo2Cj1234567"
                    },
                    "brand": {
                        "type": "string",
                        "example": "Visa",
                        "nullable": true
                    },
                    "last4": {
                        "type": "string",
                        "example": "4242",
                        "nullable": true
                    },
                    "exp_month": {
                        "type": "string",
                        "example": "12",
                        "nullable": true
                    },
                    "exp_year": {
                        "type": "string",
                        "example": "2027",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "Permission": {
                "title": "Permission",
                "description": "Representa un permiso dentro del sistema.",
                "properties": {
                    "id": {
                        "description": "Identificador único del permiso.",
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "description": "Nombre del permiso.",
                        "type": "string",
                        "example": "edit users"
                    },
                    "type": {
                        "description": "Tipo de permiso.",
                        "type": "string",
                        "example": "model"
                    }
                },
                "type": "object"
            },
            "DomainRefreshToken": {
                "description": "Representa un token de actualización para un usuario",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 123
                    },
                    "token": {
                        "type": "string",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "expiresAt": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-04T23:59:59Z"
                    },
                    "revoked": {
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "Role": {
                "title": "Role",
                "description": "Representa un rol dentro del sistema.",
                "properties": {
                    "id": {
                        "description": "Identificador único del rol.",
                        "type": "integer",
                        "example": 2
                    },
                    "name": {
                        "description": "Nombre del rol.",
                        "type": "string",
                        "example": "Administrator"
                    }
                },
                "type": "object"
            },
            "DomainStudentDetail": {
                "description": "Detalles del estudiante",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 123
                    },
                    "career_id": {
                        "type": "integer",
                        "example": 10,
                        "nullable": true
                    },
                    "n_control": {
                        "type": "integer",
                        "example": 20201234,
                        "nullable": true
                    },
                    "semestre": {
                        "type": "integer",
                        "example": 5,
                        "nullable": true
                    },
                    "group": {
                        "type": "string",
                        "example": "A",
                        "nullable": true
                    },
                    "workshop": {
                        "type": "string",
                        "example": "Taller de programación",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "DomainUser": {
                "description": "Representa un usuario del sistema",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "type": "string",
                        "example": "Pérez"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "juan.perez@example.com"
                    },
                    "password": {
                        "type": "string",
                        "example": "hashed_password"
                    },
                    "phone_number": {
                        "type": "string",
                        "example": "+5215512345678"
                    },
                    "birthdate": {
                        "type": "string",
                        "format": "date",
                        "example": "1995-06-15",
                        "nullable": true
                    },
                    "gender": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserGender"
                            }
                        ],
                        "nullable": true,
                        "example": "male"
                    },
                    "curp": {
                        "type": "string",
                        "example": "PEMJ950615HDFRZN09"
                    },
                    "address": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Calle Falsa 123",
                            "Colonia Centro"
                        ],
                        "nullable": true
                    },
                    "stripe_customer_id": {
                        "type": "string",
                        "example": "cus_ABC123XYZ",
                        "nullable": true
                    },
                    "blood_type": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserBloodType"
                            }
                        ],
                        "nullable": true,
                        "example": "O+"
                    },
                    "registration_date": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T12:34:56Z",
                        "nullable": true
                    },
                    "status": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserStatus"
                            }
                        ],
                        "nullable": true,
                        "example": "activo"
                    },
                    "studentDetail": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/DomainStudentDetail"
                            }
                        ],
                        "nullable": true
                    },
                    "roles": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/DomainStudentDetail"
                        },
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaymentStatus": {
                "description": "Estatus válidos de un pago",
                "type": "string",
                "enum": [
                    "succeeded",
                    "requires_action",
                    "paid",
                    "unpaid",
                    "pending",
                    "overpaid",
                    "underpaid"
                ],
                "example": "paid"
            },
            "PaymentConceptApplicantType": {
                "description": "Tags de casos especiales",
                "type": "string",
                "enum": [
                    "applicant",
                    "no_student_details"
                ],
                "example": "applicant"
            },
            "PaymentConceptAppliesTo": {
                "description": "A quien aplica el concepto de pago",
                "type": "string",
                "enum": [
                    "todos",
                    "carrera",
                    "semestre",
                    "carrera_semestre",
                    "estudiantes",
                    "tag"
                ],
                "example": "todos"
            },
            "PaymentConceptStatus": {
                "description": "Estatus válidos de un concepto de pago",
                "type": "string",
                "enum": [
                    "activo",
                    "finalizado",
                    "desactivado",
                    "eliminado"
                ],
                "example": "activo"
            },
            "RelationshipType": {
                "description": "Tipo de relación entre padre y estudiante",
                "type": "string",
                "enum": [
                    "padre",
                    "madre",
                    "tutor",
                    "tutor_legal"
                ],
                "example": "padre"
            },
            "UserBloodType": {
                "description": "Tipos de sangre válidos de un usuario",
                "type": "string",
                "enum": [
                    "O+",
                    "O-",
                    "A+",
                    "A-",
                    "B+",
                    "B-",
                    "AB+",
                    "AB-"
                ],
                "example": "O+"
            },
            "UserGender": {
                "description": "Generos válidos de un usuario",
                "type": "string",
                "enum": [
                    "hombre",
                    "mujer"
                ],
                "example": "hombre"
            },
            "UserStatus": {
                "description": "Estatus valido de un usuario",
                "type": "string",
                "enum": [
                    "activo",
                    "baja-temporal",
                    "baja",
                    "eliminado"
                ],
                "example": "activo"
            },
            "AttachStudentRequest": {
                "required": [
                    "user_id",
                    "career_id",
                    "n_control",
                    "semestre",
                    "group",
                    "workshop"
                ],
                "properties": {
                    "user_id": {
                        "description": "ID del usuario",
                        "type": "integer",
                        "example": 4
                    },
                    "career_id": {
                        "description": "ID de la carrera",
                        "type": "integer",
                        "example": 1
                    },
                    "n_control": {
                        "description": "Número de control del estudiante",
                        "type": "string",
                        "example": "2578900"
                    },
                    "semestre": {
                        "description": "Semestre actual del estudiante",
                        "type": "integer",
                        "example": 1
                    },
                    "group": {
                        "description": "Grupo del estudiante",
                        "type": "string",
                        "example": "A"
                    },
                    "workshop": {
                        "description": "Taller asignado al estudiante",
                        "type": "string",
                        "example": "Dibujo"
                    }
                },
                "type": "object"
            },
            "ChangeUserStatusRequest": {
                "required": [
                    "ids"
                ],
                "properties": {
                    "ids": {
                        "description": "Array de IDs de los usuarios a cambiar de estado",
                        "type": "array",
                        "items": {
                            "description": "ID de un usuario existente",
                            "type": "integer",
                            "example": 1
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    }
                },
                "type": "object"
            },
            "FindPermissionsRequest": {
                "properties": {
                    "curps": {
                        "description": "Array de CURPs de los usuarios a consultar permisos (opcional, no enviar si se usa role)",
                        "type": "array",
                        "items": {
                            "description": "CURP de un usuario existente",
                            "type": "string",
                            "example": "LOPA800101HDFRNL09"
                        },
                        "example": [
                            "LOPA800101HDFRNL09",
                            "MARA900202MDFRTN05"
                        ]
                    },
                    "role": {
                        "description": "Nombre del rol para consultar permisos (opcional, no enviar si se usan curps)",
                        "type": "string",
                        "example": "admin"
                    }
                },
                "type": "object"
            },
            "RegisterUserRequest": {
                "required": [
                    "name",
                    "last_name",
                    "email",
                    "phone_number",
                    "curp",
                    "status"
                ],
                "properties": {
                    "name": {
                        "description": "Nombre del usuario",
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "description": "Apellido del usuario",
                        "type": "string",
                        "example": "Pérez López"
                    },
                    "email": {
                        "description": "Correo electrónico del usuario",
                        "type": "string",
                        "format": "email",
                        "example": "juan.perez@example.com"
                    },
                    "phone_number": {
                        "description": "Número de teléfono del usuario",
                        "type": "string",
                        "example": "5512345678"
                    },
                    "birthdate": {
                        "description": "Fecha de nacimiento del usuario (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2000-05-12"
                    },
                    "gender": {
                        "$ref": "#/components/schemas/UserGender"
                    },
                    "curp": {
                        "description": "CURP del usuario",
                        "type": "string",
                        "example": "LOPA800101HDFRNL09"
                    },
                    "address": {
                        "description": "Dirección del usuario",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Calle Hidalgo #123",
                            "Col. Centro",
                            "CDMX"
                        ]
                    },
                    "blood_type": {
                        "$ref": "#/components/schemas/UserBloodType"
                    },
                    "registration_date": {
                        "description": "Fecha de registro del usuario (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-01-01"
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    }
                },
                "type": "object"
            },
            "ShowUsersPaginationRequest": {
                "properties": {
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean"
                    },
                    "only_this_year": {
                        "description": "Indica si se debe mostrar datos de este año o de todos (opcional, aplica solo en Dashboard)",
                        "type": "boolean"
                    },
                    "perPage": {
                        "description": "Número de elementos por página (opcional, entre 1 y 200)",
                        "type": "integer",
                        "maximum": 200,
                        "minimum": 1,
                        "example": 20
                    },
                    "page": {
                        "description": "Número de página (opcional, mínimo 1)",
                        "type": "integer",
                        "minimum": 1,
                        "example": 1
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    }
                },
                "type": "object"
            },
            "UpdatePermissionsRequest": {
                "properties": {
                    "curps": {
                        "description": "Array de CURPs de los usuarios a actualizar permisos (opcional, no enviar si se usa role)",
                        "type": "array",
                        "items": {
                            "description": "CURP de un usuario existente",
                            "type": "string",
                            "example": "GODE561231HDFABC09"
                        },
                        "example": [
                            "GODE561231HDFABC09",
                            "PEMJ800101MDFLRS08"
                        ]
                    },
                    "role": {
                        "description": "Nombre del rol cuyos permisos se actualizarán (opcional, no enviar si se usan curps)",
                        "type": "string",
                        "example": "admin"
                    },
                    "permissionsToAdd": {
                        "description": "Array de nombres de permisos a agregar",
                        "type": "array",
                        "items": {
                            "description": "Nombre de un permiso existente",
                            "type": "string",
                            "example": "users.create"
                        },
                        "example": [
                            "users.create",
                            "reports.view"
                        ]
                    },
                    "permissionsToRemove": {
                        "description": "Array de nombres de permisos a remover",
                        "type": "array",
                        "items": {
                            "description": "Nombre de un permiso existente",
                            "type": "string",
                            "example": "users.delete"
                        },
                        "example": [
                            "users.delete",
                            "settings.update"
                        ]
                    }
                },
                "type": "object"
            },
            "UpdateRolesRequest": {
                "required": [
                    "curps"
                ],
                "properties": {
                    "curps": {
                        "description": "Array de CURPs de los usuarios a actualizar roles",
                        "type": "array",
                        "items": {
                            "description": "CURP de un usuario existente",
                            "type": "string",
                            "example": "GODE561231HDFABC09"
                        },
                        "example": [
                            "GODE561231HDFABC09",
                            "PEMJ800101MDFLRS08"
                        ]
                    },
                    "rolesToAdd": {
                        "description": "Array de nombres de roles a agregar",
                        "type": "array",
                        "items": {
                            "description": "Nombre de un rol existente",
                            "type": "string",
                            "example": "editor"
                        },
                        "example": [
                            "editor",
                            "supervisor"
                        ]
                    },
                    "rolesToRemove": {
                        "description": "Array de nombres de roles a remover",
                        "type": "array",
                        "items": {
                            "description": "Nombre de un rol existente",
                            "type": "string",
                            "example": "viewer"
                        },
                        "example": [
                            "viewer",
                            "assistant"
                        ]
                    }
                },
                "type": "object"
            },
            "UpdateStudentRequest": {
                "properties": {
                    "career_id": {
                        "description": "ID de la carrera",
                        "type": "integer",
                        "example": 1
                    },
                    "group": {
                        "description": "Grupo del estudiante",
                        "type": "string",
                        "example": "A"
                    },
                    "workshop": {
                        "description": "Taller asignado al estudiante",
                        "type": "string",
                        "example": "Dibujo"
                    }
                },
                "type": "object"
            },
            "LoginRequest": {
                "required": [
                    "email",
                    "password"
                ],
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "usuario@dominio.com"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "example": "secret123"
                    }
                },
                "type": "object"
            },
            "RegisterRequest": {
                "required": [
                    "name",
                    "last_name",
                    "email",
                    "password",
                    "phone_number",
                    "curp",
                    "status"
                ],
                "properties": {
                    "name": {
                        "description": "Nombre del usuario",
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "description": "Apellido del usuario",
                        "type": "string",
                        "example": "Pérez López"
                    },
                    "email": {
                        "description": "Correo electrónico del usuario",
                        "type": "string",
                        "format": "email",
                        "example": "juan.perez@example.com"
                    },
                    "password": {
                        "description": "Contraseña del usuario",
                        "type": "string",
                        "example": "SecretPass123"
                    },
                    "phone_number": {
                        "description": "Número de teléfono del usuario",
                        "type": "string",
                        "example": "+52 5512345678"
                    },
                    "birthdate": {
                        "description": "Fecha de nacimiento del usuario (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "1990-05-12"
                    },
                    "gender": {
                        "$ref": "#/components/schemas/UserGender"
                    },
                    "curp": {
                        "description": "CURP del usuario",
                        "type": "string",
                        "example": "GODE561231HDFABC09"
                    },
                    "address": {
                        "description": "Dirección del usuario",
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "Calle Falsa 123, Col. Centro, CDMX"
                        },
                        "example": [
                            "Calle Falsa 123",
                            "Col. Centro",
                            "Ciudad de México"
                        ]
                    },
                    "blood_type": {
                        "$ref": "#/components/schemas/UserBloodType"
                    },
                    "registration_date": {
                        "description": "Fecha de registro del usuario (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-01-15"
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    }
                },
                "type": "object"
            },
            "CreateCareerRequest": {
                "required": [
                    "career_name"
                ],
                "properties": {
                    "career_name": {
                        "description": "Nombre de la carrera",
                        "type": "string",
                        "maxLength": 50,
                        "example": "Ofimatica"
                    }
                },
                "type": "object"
            },
            "UpdateCareerRequest": {
                "required": [
                    "career_name"
                ],
                "properties": {
                    "career_name": {
                        "description": "Nombre de la carrera",
                        "type": "string",
                        "maxLength": 50,
                        "example": "Contabilidad"
                    }
                },
                "type": "object"
            },
            "ForceRefreshRequest": {
                "properties": {
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean"
                    }
                },
                "type": "object"
            },
            "PaginationRequest": {
                "properties": {
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean"
                    },
                    "only_this_year": {
                        "description": "Indica si se debe mostrar datos de este año o de todos (opcional, aplica solo en Dashboard)",
                        "type": "boolean"
                    },
                    "perPage": {
                        "description": "Número de elementos por página (opcional, entre 1 y 200)",
                        "type": "integer",
                        "maximum": 200,
                        "minimum": 1,
                        "example": 20
                    },
                    "page": {
                        "description": "Número de página (opcional, mínimo 1)",
                        "type": "integer",
                        "minimum": 1,
                        "example": 1
                    }
                },
                "type": "object"
            },
            "ImportUsersRequest": {
                "properties": {
                    "file": {
                        "description": "Archivo con los usuarios a importar (XLSX, XLS o CSV)",
                        "type": "string",
                        "format": "binary"
                    }
                },
                "type": "object"
            },
            "AcceptInviteRequest": {
                "required": [
                    "token"
                ],
                "properties": {
                    "token": {
                        "description": "Token de la invitación",
                        "type": "string",
                        "example": "abc123xyzInviteToken987"
                    },
                    "relationship": {
                        "$ref": "#/components/schemas/RelationshipType"
                    }
                },
                "type": "object"
            },
            "SendInviteRequest": {
                "required": [
                    "student_id",
                    "parent_email"
                ],
                "properties": {
                    "student_id": {
                        "description": "ID del estudiante existente",
                        "type": "integer",
                        "example": 42
                    },
                    "parent_email": {
                        "description": "Correo electrónico del padre",
                        "type": "string",
                        "format": "email",
                        "example": "parent@example.com"
                    }
                },
                "type": "object"
            },
            "AllConceptsRequest": {
                "properties": {
                    "only_this_year": {
                        "description": "Filtrar conceptos solo del año actual (opcional)",
                        "type": "boolean",
                        "example": true
                    },
                    "perPage": {
                        "description": "Número de elementos por página (opcional, entre 1 y 200)",
                        "type": "integer",
                        "maximum": 200,
                        "minimum": 1,
                        "example": 25
                    },
                    "page": {
                        "description": "Número de página (opcional, mínimo 1)",
                        "type": "integer",
                        "minimum": 1,
                        "example": 1
                    },
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "ConceptsIndexRequest": {
                "properties": {
                    "status": {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean",
                        "example": false
                    },
                    "perPage": {
                        "description": "Número de elementos por página (opcional, entre 1 y 200)",
                        "type": "integer",
                        "maximum": 200,
                        "minimum": 1,
                        "example": 20
                    },
                    "page": {
                        "description": "Número de página (opcional, mínimo 1)",
                        "type": "integer",
                        "minimum": 1,
                        "example": 1
                    }
                },
                "type": "object"
            },
            "DashboardRequest": {
                "properties": {
                    "only_this_year": {
                        "description": "Filtrar datos solo del año actual (opcional)",
                        "type": "boolean",
                        "example": true
                    },
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean",
                        "example": true
                    }
                },
                "type": "object"
            },
            "GetStripePaymentsRequest": {
                "required": [
                    "search"
                ],
                "properties": {
                    "search": {
                        "description": "CURP, email o n_control de usuario",
                        "type": "string",
                        "example": "25187109"
                    },
                    "year": {
                        "description": "Año de los pagos (opcional)",
                        "type": "integer",
                        "example": 2023
                    },
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean",
                        "example": true
                    }
                },
                "type": "object"
            },
            "PaginationWithSearchRequest": {
                "properties": {
                    "search": {
                        "description": "Término de búsqueda opcional, CURP, email o N_control",
                        "type": "string",
                        "example": "25789045"
                    },
                    "perPage": {
                        "description": "Número de elementos por página (opcional, entre 1 y 200)",
                        "type": "integer",
                        "maximum": 200,
                        "minimum": 1,
                        "example": 10
                    },
                    "page": {
                        "description": "Número de página (opcional, mínimo 1)",
                        "type": "integer",
                        "minimum": 1,
                        "example": 2
                    },
                    "forceRefresh": {
                        "description": "Indica si se debe forzar la actualización (opcional)",
                        "type": "boolean",
                        "example": true
                    }
                },
                "type": "object"
            },
            "StorePaymentConceptRequest": {
                "required": [
                    "concept_name",
                    "start_date",
                    "amount",
                    "is_global",
                    "applies_to"
                ],
                "properties": {
                    "concept_name": {
                        "description": "Nombre del concepto de pago",
                        "type": "string",
                        "maxLength": 50,
                        "example": "Inscripción 2025"
                    },
                    "description": {
                        "description": "Descripción opcional del concepto",
                        "type": "string",
                        "maxLength": 100,
                        "example": "Pago correspondiente al proceso de inscripción del ciclo 2025"
                    },
                    "status": {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    "start_date": {
                        "description": "Fecha de inicio (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-01-15"
                    },
                    "end_date": {
                        "description": "Fecha de fin (opcional, YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-03-01"
                    },
                    "amount": {
                        "description": "Monto del concepto",
                        "type": "number",
                        "minimum": 10,
                        "example": 1500.5
                    },
                    "is_global": {
                        "description": "Indica si aplica globalmente",
                        "type": "boolean",
                        "example": true
                    },
                    "applies_to": {
                        "$ref": "#/components/schemas/PaymentConceptAppliesTo"
                    },
                    "semestres": {
                        "description": "Array de semestres a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    },
                    "careers": {
                        "description": "Array de IDs de carreras a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            4,
                            7
                        ]
                    },
                    "students": {
                        "description": "Array de CURPs de estudiantes a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "12",
                            "55",
                            "89"
                        ]
                    },
                    "exceptionStudents": {
                        "description": "Array de CURPs de estudiantes a los que no aplica el concepto por alguna razón(opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "11",
                            "60",
                            "90"
                        ]
                    },
                    "applicantTags": {
                        "description": "Array de casos especiales para aplicar un concepto (opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "applicants"
                        ]
                    }
                },
                "type": "object"
            },
            "UpdatePaymentConceptRequest": {
                "properties": {
                    "concept_name": {
                        "description": "Nombre del concepto de pago",
                        "type": "string",
                        "maxLength": 50,
                        "example": "Inscripción Semestral"
                    },
                    "description": {
                        "description": "Descripción opcional del concepto",
                        "type": "string",
                        "maxLength": 100,
                        "example": "Pago correspondiente al semestre agosto-diciembre"
                    },
                    "status": {
                        "$ref": "#/components/schemas/PaymentConceptStatus"
                    },
                    "start_date": {
                        "description": "Fecha de inicio (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-01-15"
                    },
                    "end_date": {
                        "description": "Fecha de fin (opcional, YYYY-MM-DD)",
                        "type": "string",
                        "format": "date",
                        "example": "2025-06-30"
                    },
                    "amount": {
                        "description": "Monto del concepto",
                        "type": "number",
                        "minimum": 10,
                        "example": 1800.5
                    },
                    "is_global": {
                        "description": "Indica si aplica globalmente",
                        "type": "boolean",
                        "example": false
                    },
                    "applies_to": {
                        "$ref": "#/components/schemas/PaymentConceptAppliesTo"
                    },
                    "semestres": {
                        "description": "Array de semestres a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2,
                            3
                        ]
                    },
                    "careers": {
                        "description": "Array de IDs de carreras a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            3,
                            5
                        ]
                    },
                    "students": {
                        "description": "Array de IDs de estudiantes a los que aplica (opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "21",
                            "22",
                            "23"
                        ]
                    },
                    "replaceRelations": {
                        "description": "Indica si se deben reemplazar las relaciones existentes",
                        "type": "boolean",
                        "example": true
                    },
                    "exceptionStudents": {
                        "description": "Array de CURPs de estudiantes a los que no aplica el concepto por alguna razón(opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "11",
                            "60",
                            "90"
                        ]
                    },
                    "replaceExceptions": {
                        "description": "Indica si se deben reemplazar las relaciones de exceptions",
                        "type": "boolean",
                        "example": true
                    },
                    "applicantTags": {
                        "description": "Array de casos especiales para aplicar un concepto (opcional)",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "applicants"
                        ]
                    }
                },
                "type": "object"
            },
            "ValidatePaymentRequest": {
                "properties": {
                    "search": {
                        "description": "Término de búsqueda para validar el pago",
                        "type": "string",
                        "example": "user@example.com"
                    },
                    "payment_intent_id": {
                        "description": "ID del intento de pago a validar",
                        "type": "string",
                        "example": "pi_1Hh1XYZ1234567890"
                    }
                },
                "type": "object"
            },
            "PayConceptRequest": {
                "properties": {
                    "concept_id": {
                        "description": "ID del concepto que se desea pagar",
                        "type": "integer",
                        "example": 123
                    }
                },
                "type": "object"
            },
            "UpdatePasswordRequest": {
                "properties": {
                    "currentPassword": {
                        "description": "Contraseña actual del usuario",
                        "type": "string",
                        "minLength": 8,
                        "example": "oldPassword123"
                    },
                    "newPassword": {
                        "description": "Nueva contraseña que el usuario desea establecer",
                        "type": "string",
                        "minLength": 8,
                        "example": "newPassword456"
                    }
                },
                "type": "object"
            },
            "UpdateUserRequest": {
                "properties": {
                    "name": {
                        "description": "Nombre del usuario",
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "description": "Apellido del usuario",
                        "type": "string",
                        "example": "Pérez"
                    },
                    "email": {
                        "description": "Correo electrónico del usuario, debe ser único",
                        "type": "string",
                        "format": "email",
                        "example": "juan.perez@example.com"
                    },
                    "phone_number": {
                        "description": "Número de teléfono del usuario",
                        "type": "string",
                        "example": "+5215512345678"
                    },
                    "birthdate": {
                        "description": "Fecha de nacimiento del usuario en formato AAAA-MM-DD",
                        "type": "string",
                        "format": "date",
                        "example": "1990-05-15"
                    },
                    "gender": {
                        "$ref": "#/components/schemas/UserGender"
                    },
                    "address": {
                        "description": "Dirección del usuario",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "blood_type": {
                        "$ref": "#/components/schemas/UserBloodType"
                    }
                },
                "type": "object"
            }
        }
    },
    "tags": [
        {
            "name": "Admin",
            "description": "Endpoints para gestión administrativa (asignación e importación de usuarios)"
        },
        {
            "name": "Careers",
            "description": "Operaciones relacionadas con carreras"
        },
        {
            "name": "FindEntity",
            "description": "Operaciones para buscar usuarios, pagos y conceptos"
        },
        {
            "name": "Auth",
            "description": "Endpoints relacionados con la autenticación de usuarios, tokens de acceso, contraseñas y verificación"
        },
        {
            "name": "Parents",
            "description": "Endpoints para invitar y aceptar padres de alumnos"
        },
        {
            "name": "Payment Concepts",
            "description": "Gestión de conceptos de pago en el sistema (creación, actualización, activación, eliminación, etc.)"
        },
        {
            "name": "Debts",
            "description": "Endpoints para la gestión y consulta de pagos pendinetes y validación de los mismos cuando haya un error de registro"
        },
        {
            "name": "Payments",
            "description": "Endpoints para la gestión y consulta de pagos registrados"
        },
        {
            "name": "Students",
            "description": "Endpoints para la gestión y consulta de estudiantes registrados"
        },
        {
            "name": "Cards",
            "description": "Gestión de métodos de pago (tarjetas) asociados a los usuarios"
        },
        {
            "name": "Dashboard",
            "description": "Endpoints relacionados con el panel de control del usuario (estadísticas, pagos y resumen financiero)"
        },
        {
            "name": "Users",
            "description": "Operaciones para actualizar usuarios"
        },
        {
            "name": "Payment History",
            "description": "Payment History"
        },
        {
            "name": "Pending Payment",
            "description": "Pending Payment"
        }
    ]
}