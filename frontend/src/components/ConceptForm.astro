---
interface Props {
  concept?: {
    id: number;
    name: string;
    amount: number;
    description: string;
    status: string;
  };
}

const { concept } = Astro.props;

// Función para manejar el envío del formulario
const handleSubmit = (e) => {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);

  const data = Object.fromEntries(formData.entries());

  console.log('Datos del formulario enviados:', data);
  alert('Formulario enviado. (Sin conexión a la API)');
};
---

<form onSubmit={handleSubmit} class="bg-white rounded-lg shadow-lg p-8 max-w-2xl mx-auto">
  <div class="mb-6">
    <label for="conceptName" class="block text-gray-700 font-semibold mb-2">Concepto</label>
    <input 
      type="text" 
      id="conceptName" 
      name="name"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2e594d]"
      value={concept?.name || ''}
      placeholder="Colegiatura Semestral"
    />
  </div>

  <div class="mb-6">
    <label for="amount" class="block text-gray-700 font-semibold mb-2">Monto</label>
    <input 
      type="number" 
      id="amount" 
      name="amount"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2e594d]"
      value={concept?.amount || 0}
      placeholder="1200"
    />
  </div>

  <div class="mb-6">
    <label for="description" class="block text-gray-700 font-semibold mb-2">Descripción</label>
    <textarea 
      id="description" 
      name="description"
      rows="3" 
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2e594d]"
      value={concept?.description || ''}
      placeholder="Escribe la descripción del concepto"
    ></textarea>
  </div>

  <div class="flex justify-end gap-4 mt-8">
    <button 
      type="button" 
      class="px-6 py-2 rounded-lg text-gray-700 border border-gray-300 font-semibold"
      onClick={() => window.history.back()}
    >
      Cancelar
    </button>
    <button 
      type="submit" 
      class="px-6 py-2 rounded-lg bg-[#2e594d] text-white font-semibold"
    >
      {concept ? 'Guardar Cambios' : 'Crear'}
    </button>
  </div>
</form>